<!DOCTYPE html>
<html lang="en">
    <!-- title -->




<!-- keywords -->




<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" >
    <meta name="author" content="Gavin Wong">
    <meta name="renderer" content="webkit">
    <meta name="copyright" content="Gavin Wong">
    
    <meta name="keywords" content="hexo,hexo-theme,hexo-blog">
    
    <meta name="description" content="">
    <meta http-equiv="Cache-control" content="no-cache">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <title>JPEG Image Compression · On the Rising Tied</title>
    <style type="text/css">
    @font-face {
        font-family: 'Oswald-Regular';
        src: url("/font/Oswald-Regular.ttf");
    }

    body {
        margin: 0;
    }

    header,
    footer,
    .back-top,
    .sidebar,
    .container,
    .site-intro-meta,
    .toc-wrapper {
        display: none;
    }

    .site-intro {
        position: relative;
        z-index: 3;
        width: 100%;
        /* height: 50vh; */
        overflow: hidden;
    }

    .site-intro-placeholder {
        position: absolute;
        z-index: -2;
        top: 0;
        left: 0;
        width: calc(100% + 300px);
        height: 100%;
        background: repeating-linear-gradient(-45deg, #444 0, #444 80px, #333 80px, #333 160px);
        background-position: center center;
        transform: translate3d(-226px, 0, 0);
        animation: gradient-move 2.5s ease-out 0s infinite;
    }

    @keyframes gradient-move {
        0% {
            transform: translate3d(-226px, 0, 0);
        }
        100% {
            transform: translate3d(0, 0, 0);
        }
    }

</style>

    <link rel="preload" href= "/css/style.css?v=20180824" as="style" onload="this.onload=null;this.rel='stylesheet'" />
    <link rel="stylesheet" href= "/css/mobile.css?v=20180824" media="(max-width: 980px)">
    
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'" />
    
    <!-- /*! loadCSS. [c]2017 Filament Group, Inc. MIT License */
/* This file is meant as a standalone workflow for
- testing support for link[rel=preload]
- enabling async CSS loading in browsers that do not support rel=preload
- applying rel preload css once loaded, whether supported or not.
*/ -->
<script>
(function( w ){
	"use strict";
	// rel=preload support test
	if( !w.loadCSS ){
		w.loadCSS = function(){};
	}
	// define on the loadCSS obj
	var rp = loadCSS.relpreload = {};
	// rel=preload feature support test
	// runs once and returns a function for compat purposes
	rp.support = (function(){
		var ret;
		try {
			ret = w.document.createElement( "link" ).relList.supports( "preload" );
		} catch (e) {
			ret = false;
		}
		return function(){
			return ret;
		};
	})();

	// if preload isn't supported, get an asynchronous load by using a non-matching media attribute
	// then change that media back to its intended value on load
	rp.bindMediaToggle = function( link ){
		// remember existing media attr for ultimate state, or default to 'all'
		var finalMedia = link.media || "all";

		function enableStylesheet(){
			link.media = finalMedia;
		}

		// bind load handlers to enable media
		if( link.addEventListener ){
			link.addEventListener( "load", enableStylesheet );
		} else if( link.attachEvent ){
			link.attachEvent( "onload", enableStylesheet );
		}

		// Set rel and non-applicable media type to start an async request
		// note: timeout allows this to happen async to let rendering continue in IE
		setTimeout(function(){
			link.rel = "stylesheet";
			link.media = "only x";
		});
		// also enable media after 3 seconds,
		// which will catch very old browsers (android 2.x, old firefox) that don't support onload on link
		setTimeout( enableStylesheet, 3000 );
	};

	// loop through link elements in DOM
	rp.poly = function(){
		// double check this to prevent external calls from running
		if( rp.support() ){
			return;
		}
		var links = w.document.getElementsByTagName( "link" );
		for( var i = 0; i < links.length; i++ ){
			var link = links[ i ];
			// qualify links to those with rel=preload and as=style attrs
			if( link.rel === "preload" && link.getAttribute( "as" ) === "style" && !link.getAttribute( "data-loadcss" ) ){
				// prevent rerunning on link
				link.setAttribute( "data-loadcss", true );
				// bind listeners to toggle media back
				rp.bindMediaToggle( link );
			}
		}
	};

	// if unsupported, run the polyfill
	if( !rp.support() ){
		// run once at least
		rp.poly();

		// rerun poly on an interval until onload
		var run = w.setInterval( rp.poly, 500 );
		if( w.addEventListener ){
			w.addEventListener( "load", function(){
				rp.poly();
				w.clearInterval( run );
			} );
		} else if( w.attachEvent ){
			w.attachEvent( "onload", function(){
				rp.poly();
				w.clearInterval( run );
			} );
		}
	}


	// commonjs
	if( typeof exports !== "undefined" ){
		exports.loadCSS = loadCSS;
	}
	else {
		w.loadCSS = loadCSS;
	}
}( typeof global !== "undefined" ? global : this ) );
</script>

    <link rel="icon" href= "/assets/gavinico.ico" />
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/webfontloader@1.6.28/webfontloader.min.js" as="script" />
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js" as="script" />
    <link rel="preload" href="/scripts/main.js" as="script" />
    <link rel="preload" as="font" href="/font/Oswald-Regular.ttf" crossorigin>
    <link rel="preload" as="font" href="https://at.alicdn.com/t/font_327081_1dta1rlogw17zaor.woff" crossorigin>
    
    <!-- fancybox -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" defer></script>
    <!-- 百度统计  -->
    
    <!-- 谷歌统计  -->
    
</head>

    
        <body class="post-body">
    
    
<header class="header">

    <div class="read-progress"></div>
    <div class="header-sidebar-menu">&#xe775;</div>
    <!-- post页的toggle banner  -->
    
    <div class="banner">
            <div class="blog-title">
                <a href="/" >The Rising Tied.</a>
            </div>
            <div class="post-title">
                <a href="#" class="post-name">JPEG Image Compression</a>
            </div>
    </div>
    
    <a class="home-link" href=/>The Rising Tied.</a>
</header>
    <div class="wrapper">
        <div class="site-intro" style="







height:50vh;
">
    
    <!-- 主页  -->
    
    
    <!-- 404页  -->
            
    <div class="site-intro-placeholder"></div>
    <div class="site-intro-img" style="background-image: url(//source.unsplash.com/1600x900/?flower)"></div>
    <div class="site-intro-meta">
        <!-- 标题  -->
        <h1 class="intro-title">
            <!-- 主页  -->
            
            JPEG Image Compression
            <!-- 404 -->
            
        </h1>
        <!-- 副标题 -->
        <p class="intro-subtitle">
            <!-- 主页副标题  -->
            
            
            <!-- 404 -->
            
        </p>
        <!-- 文章页meta -->
        
            <div class="post-intros">
                <!-- 文章页标签  -->
                
                    <div class= post-intro-tags >
    
        <a class="post-tag" href="javascript:void(0);" data-tags = "JPEG">JPEG</a>
    
        <a class="post-tag" href="javascript:void(0);" data-tags = "Image-Compression">Image-Compression</a>
    
</div>
                
                
                    <div class="post-intro-read">
                        <span>Word count: <span class="post-count word-count">844</span>Reading time: <span class="post-count reading-time">5 min</span></span>
                    </div>
                
                <div class="post-intro-meta">
                    <span class="post-intro-calander iconfont-archer">&#xe676;</span>
                    <span class="post-intro-time">2018/05/03</span>
                    
                    <span id="busuanzi_container_page_pv" class="busuanzi-pv">
                        <span class="iconfont-archer">&#xe602;</span>
                        <span id="busuanzi_value_page_pv"></span>
                    </span>
                    
                    <span class="shareWrapper">
                        <span class="iconfont-archer shareIcon">&#xe71d;</span>
                        <span class="shareText">Share</span>
                        <ul class="shareList">
                            <li class="iconfont-archer share-qr" data-type="qr">&#xe75b;
                                <div class="share-qrcode"></div>
                            </li>
                            <li class="iconfont-archer" data-type="weibo">&#xe619;</li>
                            <li class="iconfont-archer" data-type="qzone">&#xe62e;</li>
                            <li class="iconfont-archer" data-type="twitter">&#xe634;</li>
                            <li class="iconfont-archer" data-type="facebook">&#xe67a;</li>
                        </ul>
                    </span>
                </div>
            </div>
        
    </div>
</div>
        <script>
 
  // get user agent
  var browser = {
    versions: function () {
      var u = window.navigator.userAgent;
      return {
        userAgent: u,
        trident: u.indexOf('Trident') > -1, //IE内核
        presto: u.indexOf('Presto') > -1, //opera内核
        webKit: u.indexOf('AppleWebKit') > -1, //苹果、谷歌内核
        gecko: u.indexOf('Gecko') > -1 && u.indexOf('KHTML') == -1, //火狐内核
        mobile: !!u.match(/AppleWebKit.*Mobile.*/), //是否为移动终端
        ios: !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/), //ios终端
        android: u.indexOf('Android') > -1 || u.indexOf('Linux') > -1, //android终端或者uc浏览器
        iPhone: u.indexOf('iPhone') > -1 || u.indexOf('Mac') > -1, //是否为iPhone或者安卓QQ浏览器
        iPad: u.indexOf('iPad') > -1, //是否为iPad
        webApp: u.indexOf('Safari') == -1, //是否为web应用程序，没有头部与底部
        weixin: u.indexOf('MicroMessenger') == -1, //是否为微信浏览器
        uc: u.indexOf('UCBrowser') > -1 //是否为android下的UC浏览器
      };
    }()
  }
  console.log("userAgent:" + browser.versions.userAgent);

  // callback
  function fontLoaded() {
    console.log('font loaded');
    if (document.getElementsByClassName('site-intro-meta')) {
      document.getElementsByClassName('intro-title')[0].classList.add('intro-fade-in');
      document.getElementsByClassName('intro-subtitle')[0].classList.add('intro-fade-in');
      var postIntros = document.getElementsByClassName('post-intros')[0]
      if (postIntros) {
        postIntros.classList.add('post-fade-in');
      }
    }
  }

  // UC不支持跨域，所以直接显示
  function asyncCb(){
    if (browser.versions.uc) {
      console.log("UCBrowser");
      fontLoaded();
    } else {
      WebFont.load({
        custom: {
          families: ['Oswald-Regular']
        },
        loading: function () {  //所有字体开始加载
          // console.log('loading');
        },
        active: function () {  //所有字体已渲染
          fontLoaded();
        },
        inactive: function () { //字体预加载失败，无效字体或浏览器不支持加载
          console.log('inactive: timeout');
          fontLoaded();
        },
        timeout: 5000 // Set the timeout to two seconds
      });
    }
  }

  function asyncErr(){
    console.warn('script load from CDN failed, will load local script')
  }

  // load webfont-loader async, and add callback function
  function async(u, cb, err) {
    var d = document, t = 'script',
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
    o.src = u;
    if (cb) { o.addEventListener('load', function (e) { cb(null, e); }, false); }
    if (err) { o.addEventListener('error', function (e) { err(null, e); }, false); }
    s.parentNode.insertBefore(o, s);
  }

  var asyncLoadWithFallBack = function(arr, success, reject) {
      var currReject = function(){
        reject()
        arr.shift()
        if(arr.length)
          async(arr[0], success, currReject)
        }

      async(arr[0], success, currReject)
  }

  asyncLoadWithFallBack([
    "https://cdn.jsdelivr.net/npm/webfontloader@1.6.28/webfontloader.min.js", 
    "https://cdn.bootcss.com/webfont/1.6.28/webfontloader.js",
    "/lib/webfontloader.min.js"
  ], asyncCb, asyncErr)
</script>        
        <img class="loading" src="/assets/loading.svg" style="display: block; margin: 6rem auto 0 auto; width: 6rem; height: 6rem;" />
        <div class="container container-unloaded">
            <main class="main post-page">
    <article class="article-entry">
        <blockquote>
<p><strong>JPEG</strong> stands for “Joint Photographic Expert Group” </p>
</blockquote>
<h1 id="Feasibility-of-Compression-in-Spectrum"><a href="#Feasibility-of-Compression-in-Spectrum" class="headerlink" title="Feasibility of Compression in Spectrum"></a>Feasibility of Compression in Spectrum</h1><blockquote>
<p>Lower entropy in data means higher efficiency in compression.</p>
</blockquote>
<p>In some compression methods, the first step is to do <strong>DCT</strong> on images and then compress their spectrum.  The reasons for doing so are </p>
<ul>
<li>The <strong>coefficients in the transformed domain</strong> are much more <strong>unbalanced</strong>. </li>
<li>In the transformed domain <strong>few coefficients concentrate most of the signal energy</strong>     </li>
<li>Most images have <strong>low pass characteristics</strong> (large smooth areas)      </li>
</ul>
<p>Note that most images contains more lower frequency components as a result of high proportion of smooth areas. Therefore, we just try to find a way to narrow the dataset for a smaller entropy. </p>
<h1 id="Quantization"><a href="#Quantization" class="headerlink" title="Quantization"></a>Quantization</h1><p>This is the first step in  <strong>JPEG</strong> compression. The quantization operation is mainly to reduce the redundancy in DCT coefficients. As mentioned before, high frequency components are not so important in most images so they are treated as redundancy. We hope to set them all to zeros by using the quantization table as shown in Mat. 1. The values in this table are increasing with row and column numbers. It means higher frequency components will be quantized by larger values.  This will lead to some results as shown in Mat. 2. where there are only nonzero numbers on the left up corner. </p>
<script type="math/tex; mode=display">
Q_{Mat} = \left[\begin{matrix}
16    &11 &10    &16    &24    &40    &51    &61 \\
12    &12    &14    &19    &26    &58    &60    &55 \\
14    &13    &16    &24    &40    &57    &69    &56 \\
14    &17    &22    &29    &51    &87    &80    &62 \\
18    &22    &37    &56    &68    &109    &103    &77\\
24    &35    &55    &64    &81    &104    &113    &92\\
49    &64    &78    &87    &103    &121    &120    &101\\
72    &92    &95    &98    &112    &100    &103    &99\\
\end{matrix}\right] \tag{1}</script><script type="math/tex; mode=display">
Result = \left[\begin{matrix}
14 &6    &0    &\cdots    &0\\
15 &-3    &0    &\cdots    &0\\
-2  &0    &0    &\cdots &0\\
\vdots &\vdots &\vdots &\ddots &\vdots         \\
0    &0    &0    &0    &0    \\
\end{matrix}\right] \tag{2}</script><h2 id="Derivation-of-Quantization-Matrix"><a href="#Derivation-of-Quantization-Matrix" class="headerlink" title="Derivation of Quantization Matrix"></a>Derivation of Quantization Matrix</h2><p><strong>Q</strong>: quality factor</p>
<p><strong>S</strong>: rescale factor (step length)</p>
<p>$T_B$: base quantization matrix</p>
<p>$T_S$: output quantization matrix (used in compression)</p>
<p>Their relations are like:</p>
<p>​                                        <strong>Q </strong>——&gt; <strong>S</strong> ——&gt; $T_B$ ——&gt; $T_S$</p>
<p>The general logic is that we firstly apply quality factor Q to determine scale factor S. Then, use S to scale base quantization matrix to get matrix for final compression.  Codes below illustrate one way to generate a quantization matrix. Note that the last two lines of codes are to prevent the presents of 0s on the denominator of quantization equation. </p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Q = <span class="number">80</span>; <span class="comment">%// Define Q factor</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%// Define base quantization matrix</span></span><br><span class="line">Tb = [<span class="number">16</span> <span class="number">11</span> <span class="number">10</span> <span class="number">16</span> <span class="number">24</span> <span class="number">40</span> <span class="number">51</span> <span class="number">61</span>; <span class="number">12</span> <span class="number">12</span> <span class="number">14</span> <span class="number">19</span> <span class="number">26</span> <span class="number">58</span> <span class="number">60</span> <span class="number">55</span>; ...</span><br><span class="line">     <span class="number">14</span> <span class="number">13</span> <span class="number">16</span> <span class="number">24</span> <span class="number">40</span> <span class="number">57</span> <span class="number">69</span> <span class="number">56</span>; <span class="number">14</span> <span class="number">17</span> <span class="number">22</span> <span class="number">29</span> <span class="number">51</span> <span class="number">87</span> <span class="number">80</span> <span class="number">62</span>; ...</span><br><span class="line">     <span class="number">18</span> <span class="number">22</span> <span class="number">37</span> <span class="number">56</span> <span class="number">68</span> <span class="number">109</span> <span class="number">103</span> <span class="number">77</span>; <span class="number">24</span> <span class="number">35</span> <span class="number">55</span> <span class="number">64</span> <span class="number">81</span> <span class="number">104</span> <span class="number">113</span> <span class="number">92</span>; ...</span><br><span class="line">     <span class="number">49</span> <span class="number">64</span> <span class="number">78</span> <span class="number">87</span> <span class="number">103</span> <span class="number">121</span> <span class="number">120</span> <span class="number">101</span>; <span class="number">72</span> <span class="number">92</span> <span class="number">95</span> <span class="number">98</span> <span class="number">112</span> <span class="number">100</span> <span class="number">103</span> <span class="number">99</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">%// Determine S          % This part is set by user, you can</span></span><br><span class="line"><span class="keyword">if</span> (Q &lt; <span class="number">50</span>)              <span class="comment">% use different functions to get S from Q</span></span><br><span class="line">    S = <span class="number">5000</span>/Q;           </span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    S = <span class="number">200</span> - <span class="number">2</span>*Q;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">Ts = <span class="built_in">floor</span>((S*Tb + <span class="number">50</span>) / <span class="number">100</span>);</span><br><span class="line">Ts(Ts == <span class="number">0</span>) = <span class="number">1</span>; <span class="comment">% // Prevent divide by 0 error</span></span><br></pre></td></tr></table></figure>
<h2 id="How-quantization-step-effect-quality"><a href="#How-quantization-step-effect-quality" class="headerlink" title="How quantization step effect quality ?"></a>How quantization step effect quality ?</h2><p>Note that  S can be seen as <strong>step length</strong> which means <strong>there will be fewer levels with larger step length</strong> indicating lower compression quality . For a quantization step of 4, we can regard this as a rule of mapping every 4 consecutive levels in original image to 1 new level in quantization result. Then, with a larger step of 16,  every 16 levels will be mapped to 1 new level. It means that less details can be seen compared to step of 4. Therefore, the increasing steps lead to decreasing image quality.</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">% Suppose we have a matrix to quantize </span></span><br><span class="line">Mat = [<span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span>; <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span>; <span class="number">9</span> <span class="number">10</span> <span class="number">11</span> <span class="number">12</span>; <span class="number">13</span> <span class="number">14</span> <span class="number">15</span> <span class="number">16</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">% We firstly quantize it with small step S1=4</span></span><br><span class="line">S1 = <span class="number">4</span>;</span><br><span class="line">Mat1 = <span class="built_in">floor</span>(Mat/S1);</span><br><span class="line"></span><br><span class="line"><span class="comment">% We then quantize it with large step S2=8</span></span><br><span class="line">S2 = <span class="number">8</span>;</span><br><span class="line">Mat2 = <span class="built_in">floor</span>(Mat/S2);</span><br></pre></td></tr></table></figure>
 <figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Mat1 =</span><br><span class="line"></span><br><span class="line">     <span class="number">0</span>     <span class="number">0</span>     <span class="number">0</span>     <span class="number">1</span></span><br><span class="line">     <span class="number">1</span>     <span class="number">1</span>     <span class="number">1</span>     <span class="number">2</span></span><br><span class="line">     <span class="number">2</span>     <span class="number">2</span>     <span class="number">2</span>     <span class="number">3</span>             <span class="comment">% This result have more levels which means it have more</span></span><br><span class="line">     <span class="number">3</span>     <span class="number">3</span>     <span class="number">3</span>     <span class="number">4</span>             <span class="comment">% details so the image quality is high</span></span><br><span class="line"> </span><br><span class="line"> Mat2 =</span><br><span class="line"></span><br><span class="line">     <span class="number">0</span>     <span class="number">0</span>     <span class="number">0</span>     <span class="number">0</span></span><br><span class="line">     <span class="number">0</span>     <span class="number">0</span>     <span class="number">0</span>     <span class="number">1</span></span><br><span class="line">     <span class="number">1</span>     <span class="number">1</span>     <span class="number">1</span>     <span class="number">1</span>             <span class="comment">% This result have fewer levels which means it have less</span></span><br><span class="line">     <span class="number">1</span>     <span class="number">1</span>     <span class="number">1</span>     <span class="number">2</span>             <span class="comment">% details so quality is low</span></span><br></pre></td></tr></table></figure>
<h1 id="JPEG-Encoding"><a href="#JPEG-Encoding" class="headerlink" title="JPEG Encoding"></a>JPEG Encoding</h1><ul>
<li><p><strong>DC values</strong> </p>
<p>Quantized DC values are coded by <strong>DPCM</strong> from block to block to remove the residual correlation    </p>
</li>
<li><p><strong>AC coefficients</strong></p>
<ol>
<li><strong>Zig-zag</strong> reordering is performed to achieve large runs of zeros</li>
<li>Encoding of zero-runs    </li>
<li>Entropy coding (Huffman)    </li>
</ol>
</li>
</ul>
<h2 id="Why-Zigzag-Reordering"><a href="#Why-Zigzag-Reordering" class="headerlink" title="Why Zigzag Reordering ?"></a>Why Zigzag Reordering ?</h2><p>After the quantization step, most of the coefficients towards the lower right corner are zero. The Zigzag ordering rearranges the coefficients in one dimensional order, in result <strong>most of the zeroes will be placed at the end of the stream</strong>. This is more efficient for encoding.</p>
<p><img src="http://imagecloud.nos-eastchina1.126.net/Image%20Processing/zigzag_reorder_1.JPG" alt="zigzag"></p>
<p><img src="http://imagecloud.nos-eastchina1.126.net/Image%20Processing/zigzag_reorder_2.JPG" alt=""></p>
<p><img src="http://imagecloud.nos-eastchina1.126.net/Image%20Processing/zigzag_reorder_result.JPG" alt="Result"></p>
<h1 id="References"><a href="#References" class="headerlink" title="References"></a>References</h1><ol>
<li><a href="https://www.quora.com/Why-is-zigzag-scanning-used-in-JPEG-images" target="_blank" rel="noopener">Zigzag reordering in JPEG encoding</a></li>
<li><a href="http://www.pcs-ip.eu/index.php/main/edu/8" target="_blank" rel="noopener">Entropy encoding</a></li>
</ol>

    </article>
    <!-- license  -->
    
    <!-- paginator  -->
    <ul class="post-paginator">
        <li class="next">
            
                <div class="nextSlogan">Next Post</div>
                <a href= "/2018/06/30/Master-Method/" title= "Master Method">
                    <div class="nextTitle">Master Method</div>
                </a>
            
        </li>
        <li class="previous">
            
                <div class="prevSlogan">Previous Post</div>
                <a href= "/2018/04/20/About main/" title= "About _name\_  = = "main"">
                    <div class="prevTitle">About _name\_  = = "main"</div>
                </a>
            
        </li>
    </ul>
    <!-- 评论插件 -->
    <!-- 来必力City版安装代码 -->

<!-- City版安装代码已完成 -->
    
    
    <!-- partial('_partial/comment/changyan') -->
    <!--PC版-->


    
    

    <!-- 评论 -->
</main>
            <!-- profile -->
            
        </div>
        <footer class="footer footer-unloaded">
    <!-- social  -->
    
    <div class="social">
        
    
        
            
                <a href="mailto:xiaoyang.wong318@gmail.com" class="iconfont-archer email" title=email ></a>
            
        
    
        
            
                <a href="//github.com/Gavinwxy" class="iconfont-archer github" target="_blank" title=github></a>
            
        
    
        
            
                <span class="iconfont-archer wechat" title=wechat>
                  
                  <img class="profile-qr" src="/assets/wechat.jpg" />
                </span>
            
        
    
        
    
        
    
        
    
        
            
                <a href="//www.zhihu.com/people/mono-87-95/activities" class="iconfont-archer zhihu" target="_blank" title=zhihu></a>
            
        
    
        
    
        
            
                <a href="//www.facebook.com/xiaoyang.wong" class="iconfont-archer facebook" target="_blank" title=facebook></a>
            
        
    
        
    
        
            
                <a href="//www.instagram.com/gavinwxy/?hl=en" class="iconfont-archer instagram" target="_blank" title=instagram></a>
            
        
    
        
    
        
    
        
    
        
    
        
    
        
            
                <a href="//www.linkedin.com/in/xiaoyang-wang-aa7abb144/" class="iconfont-archer linkedin" target="_blank" title=linkedin></a>
            
        
    
        
    
        
    
        
    

    </div>
    
    <!-- powered by Hexo  -->
    <div class="copyright">
        <span id="hexo-power">Powered by <a href="https://hexo.io/" target="_blank">Hexo</a></span><span class="iconfont-archer power">&#xe635;</span><span id="theme-info">theme <a href="https://github.com/fi3ework/hexo-theme-archer" target="_blank">Archer</a></span>
    </div>
    <!-- 不蒜子  -->
    
    <div class="busuanzi-container">
    
     
    <span id="busuanzi_container_site_pv">PV: <span id="busuanzi_value_site_pv"></span> :)</span>
    
    </div>
    
</footer>
    </div>
    <!-- toc -->
    
    <div class="toc-wrapper" style=
    







top:50vh;

    >
        <div class="toc-catalog">
            <span class="iconfont-archer catalog-icon">&#xe613;</span><span>CATALOG</span>
        </div>
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Feasibility-of-Compression-in-Spectrum"><span class="toc-number">1.</span> <span class="toc-text">Feasibility of Compression in Spectrum</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Quantization"><span class="toc-number">2.</span> <span class="toc-text">Quantization</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Derivation-of-Quantization-Matrix"><span class="toc-number">2.1.</span> <span class="toc-text">Derivation of Quantization Matrix</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#How-quantization-step-effect-quality"><span class="toc-number">2.2.</span> <span class="toc-text">How quantization step effect quality ?</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#JPEG-Encoding"><span class="toc-number">3.</span> <span class="toc-text">JPEG Encoding</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Why-Zigzag-Reordering"><span class="toc-number">3.1.</span> <span class="toc-text">Why Zigzag Reordering ?</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#References"><span class="toc-number">4.</span> <span class="toc-text">References</span></a></li></ol>
    </div>
    
    <div class="back-top iconfont-archer">&#xe639;</div>
    <div class="sidebar sidebar-hide">
    <ul class="sidebar-tabs sidebar-tabs-active-0">
        <li class="sidebar-tab-archives"><span class="iconfont-archer">&#xe67d;</span><span class="tab-name">Archive</span></li>
        <li class="sidebar-tab-tags"><span class="iconfont-archer">&#xe61b;</span><span class="tab-name">Tag</span></li>
        <li class="sidebar-tab-categories"><span class="iconfont-archer">&#xe666;</span><span class="tab-name">Cate</span></li>
    </ul>
    <div class="sidebar-content sidebar-content-show-archive">
          <div class="sidebar-panel-archives">
    <!-- 在ejs中将archive按照时间排序 -->
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    <div class="total-and-search">
        <div class="total-archive">
        Total : 14
        </div>
        <!-- search  -->
        
    </div>
    
    <div class="post-archive">
    
    
    
    
    <div class="archive-year"> 2018 </div>
    <ul class="year-list">
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/18</span><a class="archive-post-title" href= "/2018/10/18/Deep Learning cheat sheet/" >My deep learning cheat sheet</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">09/30</span><a class="archive-post-title" href= "/2018/09/30/Divde-and-Conquer/" >Divide and Conquer</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">09/30</span><a class="archive-post-title" href= "/2018/09/30/About Naïve Bayes Classifier/" >About Naïve Bayes Classifier</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">06/30</span><a class="archive-post-title" href= "/2018/06/30/Master-Method/" >Master Method</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/03</span><a class="archive-post-title" href= "/2018/05/03/image_compression_JPEG/" >JPEG Image Compression</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">04/20</span><a class="archive-post-title" href= "/2018/04/20/About main/" >About _name\_  = = "main"</a>
        </li>
    
    
    
    
    
        </ul>
    
    <div class="archive-year"> 2017 </div>
    <ul class="year-list">
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/30</span><a class="archive-post-title" href= "/2017/12/30/MIPS Processor/" >MIPS Processor</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">09/20</span><a class="archive-post-title" href= "/2017/09/20/Data Structures/" >Python Data Structures</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">08/17</span><a class="archive-post-title" href= "/2017/08/17/Numpy/" >Python Numpy Collections</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">08/15</span><a class="archive-post-title" href= "/2017/08/15/Input and Output/" >Python Output Format</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">08/15</span><a class="archive-post-title" href= "/2017/08/15/OOP/" >Object Oriented Programming</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">08/10</span><a class="archive-post-title" href= "/2017/08/10/File Operation/" >Python File Operations</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">07/10</span><a class="archive-post-title" href= "/2017/07/10/Envs Config/" >Environment Configuration</a>
        </li>
    
    
    
    
    
        </ul>
    
    <div class="archive-year"> 2000 </div>
    <ul class="year-list">
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/01</span><a class="archive-post-title" href= "/2000/01/01/hello-world/" >Hello World</a>
        </li>
    
    </div>
  </div>
        <div class="sidebar-panel-tags">
    <div class="sidebar-tags-name">
    
        <span class="sidebar-tag-name" data-tags="Machine Learning"><span class="iconfont-archer">&#xe606;</span>Machine Learning</span>
    
        <span class="sidebar-tag-name" data-tags="Naïve Bayes Classifier"><span class="iconfont-archer">&#xe606;</span>Naïve Bayes Classifier</span>
    
        <span class="sidebar-tag-name" data-tags="Python"><span class="iconfont-archer">&#xe606;</span>Python</span>
    
        <span class="sidebar-tag-name" data-tags="Data Structure"><span class="iconfont-archer">&#xe606;</span>Data Structure</span>
    
        <span class="sidebar-tag-name" data-tags="Random Collection"><span class="iconfont-archer">&#xe606;</span>Random Collection</span>
    
        <span class="sidebar-tag-name" data-tags="Divide and Conquer"><span class="iconfont-archer">&#xe606;</span>Divide and Conquer</span>
    
        <span class="sidebar-tag-name" data-tags="Deep Learning"><span class="iconfont-archer">&#xe606;</span>Deep Learning</span>
    
        <span class="sidebar-tag-name" data-tags="Loss Function"><span class="iconfont-archer">&#xe606;</span>Loss Function</span>
    
        <span class="sidebar-tag-name" data-tags="Learning Algorithm"><span class="iconfont-archer">&#xe606;</span>Learning Algorithm</span>
    
        <span class="sidebar-tag-name" data-tags="Summary"><span class="iconfont-archer">&#xe606;</span>Summary</span>
    
        <span class="sidebar-tag-name" data-tags="Practices"><span class="iconfont-archer">&#xe606;</span>Practices</span>
    
        <span class="sidebar-tag-name" data-tags="Processor Architecture"><span class="iconfont-archer">&#xe606;</span>Processor Architecture</span>
    
        <span class="sidebar-tag-name" data-tags="JPEG"><span class="iconfont-archer">&#xe606;</span>JPEG</span>
    
        <span class="sidebar-tag-name" data-tags="Image-Compression"><span class="iconfont-archer">&#xe606;</span>Image-Compression</span>
    
    </div>
    <div class="iconfont-archer sidebar-tags-empty">&#xe678;</div>
    <div class="tag-load-fail" style="display: none; color: #ccc; font-size: 0.6rem;">
    缺失模块。<br/>
    1、请确保node版本大于6.2<br/>
    2、在博客根目录（注意不是archer根目录）执行以下命令：<br/>
    <span style="color: #f75357; font-size: 1rem; line-height: 2rem;">npm i hexo-generator-json-content --save</span><br/>
    3、在根目录_config.yml里添加配置：
    <pre style="color: #787878; font-size: 0.6rem;">
jsonContent:
  meta: false
  pages: false
  posts:
    title: true
    date: true
    path: true
    text: false
    raw: false
    content: false
    slug: false
    updated: false
    comments: false
    link: false
    permalink: false
    excerpt: false
    categories: true
    tags: true</pre>
    </div> 
    <div class="sidebar-tags-list"></div>
</div>
        <div class="sidebar-panel-categories">
    <div class="sidebar-categories-name">
    
        <span class="sidebar-category-name" data-categories="Machine-Learning"><span class="iconfont-archer">&#xe60a;</span>Machine-Learning</span>
    
        <span class="sidebar-category-name" data-categories="Python-ABC"><span class="iconfont-archer">&#xe60a;</span>Python-ABC</span>
    
        <span class="sidebar-category-name" data-categories="Algorithm"><span class="iconfont-archer">&#xe60a;</span>Algorithm</span>
    
        <span class="sidebar-category-name" data-categories="Deep-Learning"><span class="iconfont-archer">&#xe60a;</span>Deep-Learning</span>
    
        <span class="sidebar-category-name" data-categories="Computer-Engineering"><span class="iconfont-archer">&#xe60a;</span>Computer-Engineering</span>
    
        <span class="sidebar-category-name" data-categories="Image-Processing"><span class="iconfont-archer">&#xe60a;</span>Image-Processing</span>
    
    </div>
    <div class="iconfont-archer sidebar-categories-empty">&#xe678;</div>
    <div class="sidebar-categories-list"></div>
</div>
    </div>
</div> 
    <script>
    var siteMeta = {
        root: "/",
        author: "Gavin Wong"
    }
</script>
    <!-- CDN failover -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
    <script type="text/javascript">
        if (typeof window.$ === 'undefined')
        {
            console.warn('jquery load from jsdelivr failed, will load local script')
            document.write('<script src="/lib/jquery.min.js">\x3C/script>')
        }
    </script>
    <script src="/scripts/main.js"></script>
    <!-- algolia -->
    
    <!-- busuanzi  -->
    
    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    
    <!-- CNZZ  -->
    
    </div>
    <!-- async load share.js -->
    
        <script src="/scripts/share.js" async></script>    
     
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
</body>
</html>


